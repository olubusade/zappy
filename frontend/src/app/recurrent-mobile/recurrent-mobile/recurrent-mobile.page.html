<ion-header class="header-bg">
    <ion-toolbar mode="ios" color="none" class="text-white">
      <ion-buttons mode="ios">
        <ion-button (click)="goBack()" slot="start">
          <ion-icon ios="arrow-back-outline" md="arrow-back"></ion-icon>
        </ion-button>
        </ion-buttons>
      <ion-title>Recurrent Mobile</ion-title>
    </ion-toolbar>
  </ion-header>
  
  <ion-content>
    <!--Background Overlay-->
    <div class="bg" (click)="closePinPad()"></div>
  
    <!--Bottom Sheet-->
    <div class="bottomSheet" (touchmove)="touchMove($event)" (touchend)="touchEnd()">
      <!--Short line at top of bottom sheet-->
      <div class="swipe-handler"></div>
      <!--Bottom sheet content-->
      <div class="content ion-padding">
        <ion-grid>
          <ion-row>
            <ion-col size="12">
              <div style="margin-top: 40px; font-size: 18px; font-weight: bold; text-align: center;">Add Contact</div>
            </ion-col>
          </ion-row>
          <!--Network icons row-->
          <ion-row style="margin-top: 30px;">
            <ion-col size="12" style="padding-left: 20px;">
              <h6 style="color: #9e9e9e; font-size: 14px">Select network provider</h6>
            </ion-col>
          </ion-row>
          <ion-row style="margin-top: 20px;">
            <ion-col size="3" *ngFor="let network of networks; let i=index;">
              <div [class]="network.divClass" (click)="pickNetwork(i)">
                <img *ngIf="network.picked" src="../../assets/icon/check.png" [class]="network.imgClass"/>
              </div>
            </ion-col>
          </ion-row>
          <!--Network icons row-->
          <ion-row style="margin-top: 10px;">
            <ion-col size="2" style="padding-top: 20px; padding-bottom: 20px; padding-left: 20px;">
              <div style="text-align: center; background-color: #f5f5f5; height: 100%; border-radius: 7px; padding-top: 20px; font-size: 12px; text-align: center;">
                {{addContactData.chosenNetwork}}
              </div>
            </ion-col>
            <ion-col size="8" style="padding-top: 20px; padding-bottom: 20px; padding-left: 5px; padding-right: 5px;">
              <div style="background-color: #f5f5f5; height: 40px; padding: 5px; border-radius: 7px;">
                <ion-input placeholder="Mobile number eg. 2348022222222" [(ngModel)]="addContactData.phone" name="phone" inputmode="numeric" style="font-size: 12px; text-align: center;"></ion-input>
              </div>
            </ion-col>
            <ion-col size="2" style="padding-top: 20px; padding-bottom: 20px; padding-right: 20px;">
              <div style="text-align: center; background-color: #f5f5f5; height: 100%; border-radius: 7px; padding-top: 10px;">
                <img src="../../assets/icon/profile-user.png"/>
              </div>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12" style="padding-left: 20px; padding-right: 20px;">
              <div style="background-color: #f5f5f5; height: 40px; border-radius: 7px;">
                <ion-input placeholder="Enter Amount" [(ngModel)]="addContactData.amount" name="amount" inputmode="numeric" style="font-size: 12px; text-align: center;"></ion-input>
              </div>
            </ion-col>
          </ion-row>
          <ion-row style="margin-top: 10px;">
            <ion-col size="4" style="text-align: center;">
              <p style="padding-top: 20px;">Every</p>
            </ion-col>
            <ion-col size="4" style="text-align: center;">
              <div style="background-color: #f5f5f5; height: 40px; padding: 5px; border-radius: 7px;">
                <ion-input placeholder="Duration" [(ngModel)]="addContactData.duration" name="amount" inputmode="numeric" style="font-size: 12px; text-align: center;"></ion-input>
            </div>
            </ion-col>
            <ion-col size="4" style="text-align: center;">
              <p style="padding-top: 20px;">Day(s)</p>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12" style="text-align: center; padding-top: 20px; padding-bottom: 20px;">
              <ion-button (click)="addContact()" shape="round" mode="ios" strong="true" size="default" color="primary" style="font-size: 14px;">Add</ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </div>
  
  
    <ion-fab *ngIf="showFab" slot="fixed" vertical="bottom" horizontal="end">
      <ion-fab-button (click)="openPinPad()"><ion-icon name="add-outline"></ion-icon></ion-fab-button>
    </ion-fab>
    <ion-card (click)="openActionSheet(i)" *ngFor="let contact of recurrentData; let i = index;" style="margin: 10px">
      <ion-card-header>
        <ion-card-title style="font-size: 18px;">{{contact.mobile}} <ion-icon name="call" color="primary" style="font-size: 12px; float: right"></ion-icon></ion-card-title>
      </ion-card-header>
  
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col size="6">
              <span style="font-size: 10px; color: #9acd32;">&#8358; {{contact.amount}} {{contact.type}} every {{contact.duration}} day(s)</span>
            </ion-col>
            <ion-col size="6">
              <span style="font-size: 10px; color: #9acd32;">Next recharge on {{contact.next_date}}</span>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>
  </ion-content>