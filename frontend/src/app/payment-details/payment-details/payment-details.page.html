<ion-header class="header-bg">
  <ion-toolbar mode="ios" color="none" class="text-white">
    <ion-buttons mode="ios">
      <ion-button (click)="goBack()" slot="start">
        <ion-icon ios="arrow-back-outline" md="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title >Payment Details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
    <!--Background Overlay-->
    <div class="bg" (click)="closePinPad()"></div>

    <!--Bottom Sheet-->
    <div class="bottomSheet" (touchmove)="touchMove($event)" (touchend)="touchEnd()">
      <!--Short line at top of bottom sheet-->
      <div class="swipe-handler"></div>
      <!--Bottom sheet content-->
      <div class="content ion-padding">
        <div style="text-align: center; font-weight: bold; font-size: 14px; margin-top: 40px;">Enter Payment PIN</div>
        
        <div class="pinInput">
          <input ion-input inputmode="numeric" type="password" readonly style="font-size: 12px; font-weight: bold;" [value]="!enteredPin[0] && enteredPin[0] != 0 ? '' : enteredPin[0]" />
          <input ion-input inputmode="numeric" type="password" readonly style="font-size: 12px; font-weight: bold;" [value]="!enteredPin[1] && enteredPin[1] != 0 ? '' : enteredPin[1]" />
          <input ion-input inputmode="numeric" type="password" readonly style="font-size: 12px; font-weight: bold;" [value]="!enteredPin[2] && enteredPin[2] != 0 ? '' : enteredPin[2]" />
          <input ion-input inputmode="numeric" type="password" readonly style="font-size: 12px; font-weight: bold;" [value]="!enteredPin[3] && enteredPin[3] != 0 ? '' : enteredPin[3]" />
        </div>

        <h6 style="color: #9acd32; text-align: center; font-size: 10px; margin-top: 20px; margin-bottom: 20px;">Forgot Payment PIN?</h6>

        <ion-grid style="background-color: #f5f5f5;">
          <ion-row>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(1)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;">1</div>
                </ion-card-content>
              </ion-card>
            </ion-col>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(2)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;">2</div>
                </ion-card-content>
              </ion-card>
            </ion-col>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(3)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;">3</div>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(4)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;">4</div>
                </ion-card-content>
              </ion-card>
            </ion-col>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(5)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;">5</div>
                </ion-card-content>
              </ion-card>
            </ion-col>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(6)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;">6</div>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(7)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;">7</div>
                </ion-card-content>
              </ion-card>
            </ion-col>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(8)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;">8</div>
                </ion-card-content>
              </ion-card>
            </ion-col>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(9)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;">9</div>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="4" style="padding: 5px;">
              <ion-card style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;"></div>
                </ion-card-content>
              </ion-card>
            </ion-col>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(0)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 23px; padding-bottom: 23px;">
                  <div style="text-align: center; font-weight: bold;">0</div>
                </ion-card-content>
              </ion-card>
            </ion-col>
            <ion-col size="4" style="padding: 5px;">
              <ion-card (click)="enterPin(-1)" style="border-radius: 7px; box-shadow: none; background-color: #ffffff;" button="true" mode="ios">
                <ion-card-content style="padding-top: 15px; padding-bottom: 8px; text-align: center;">
                  <ion-icon name="backspace-outline" style="color: black;"></ion-icon>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </div>

    <div class="main-container">
      <h6 style="text-align: center; font-size: 14px; padding: 20px; font-weight: bold;">Actual Payment</h6>
      <h5 style="text-align: center; margin-top: 0px; font-size: 22px; font-weight: bolder; padding: 15px;">&#8358; {{purchaseParams.amount}}</h5>
      <ion-grid style="margin-top: 20px;">
        <ion-row style="margin-top: 0px; padding: 10px;">
          <ion-col size="6">
            <p style="font-size: 14px;">Airtime</p>
            <p style="margin-top: 14px; font-size: 12px; color: #9e9e9e;">{{purchaseParams.network.toUpperCase()}}-{{purchaseParams.mobile.slice(1)}}</p>
          </ion-col>
          <ion-col size="6">
            <p style="text-align: right; font-size: 14px; font-weight: bolder;">&#8358; {{purchaseParams.amount}}</p>
          </ion-col>
        </ion-row>

        <ion-row style="margin-top: 10px; padding: 5px;">
          <ion-col size="12">
            <ion-card style="border-radius: 10px; box-shadow: none;" button="true" mode="ios">
              <ion-card-content style="padding-top: 15px; padding-bottom: 15px;">
                <ion-grid>
                  <ion-row>
                    <ion-col size="12">
                      <h6 style="font-size: 12px; font-weight: bold;">Payment method</h6>
                    </ion-col>
                  </ion-row>

                  <ion-row style="margin-top: 20px;">
                    <ion-col size="5" style="padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">Balance</h6>
                    </ion-col>
                    <ion-col size="5" style="text-align: right; padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">&#8358; {{purchaseParams.amount}} </h6>
                    </ion-col>
                    <ion-col size="2" style="text-align: center;">
                      <ion-icon name="chevron-forward-outline"></ion-icon>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-card-content>
            </ion-card>  
          </ion-col>
        </ion-row>

        <ion-row style="margin-top: 10px; padding: 5px;">
          <ion-col size="12">
            <ion-card style="border-radius: 10px; box-shadow: none;" button="true" mode="ios">
              <ion-card-content style="padding-top: 15px; padding-bottom: 15px;">
                <ion-grid>
                  <ion-row style="margin-top: 0px; padding-top: 3px; padding-bottom: 3px;">
                    <ion-col size="6" style="padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">Cashback (&#8358; {{purchaseParams.reward ? purchaseParams.reward : 0}})</h6>
                    </ion-col>
                    <ion-col size="6" style="text-align: right; padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">- &#8358; {{purchaseParams.reward ? purchaseParams.reward : 0}} </h6>
                    </ion-col>
                    <!--ion-col size="2" style="text-align: center;">
                      <ion-checkbox color="primary" style="height: 18px; width: 18px;"></ion-checkbox>
                    </ion-col-->
                  </ion-row>
                  <ion-row style="margin-top: 20px; padding-top: 3px; padding-bottom: 3px;">
                    <ion-col size="5" style="padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">Voucher</h6>
                    </ion-col>
                    <ion-col size="5" style="text-align: right; padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">None</h6>
                    </ion-col>
                    <ion-col size="2" style="text-align: center;">
                      <ion-icon name="chevron-forward-outline"></ion-icon>
                    </ion-col>
                  </ion-row>
                  <ion-row style="margin-top: 10px; padding-top: 13px; padding-bottom: 3px; border-top: 1px solid #eeeeee;">
                    <ion-col size="6" style="padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">Discount</h6>
                    </ion-col>
                    <ion-col size="6" style="text-align: right; padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">&#8358; 0 </h6>
                    </ion-col>
                  </ion-row>
                  <ion-row style="margin-top: 10px; padding-top: 13px; padding-bottom: 3px; border-top: 1px solid #eeeeee;">
                    <ion-col size="6" style="padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">Cashback to earn</h6>
                    </ion-col>
                    <ion-col size="6" style="text-align: right; padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">&#8358; {{purchaseParams.reward ? purchaseParams.reward : 0}} </h6>
                    </ion-col>
                  </ion-row>
                  <ion-row style="margin-top: 10px; padding-top: 13px; padding-bottom: 3px; border-top: 1px solid #eeeeee;">
                    <ion-col size="6" style="padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">Fee</h6>
                    </ion-col>
                    <ion-col size="6" style="text-align: right; padding-top: 8px; padding-bottom: 8px;">
                      <h6 style="font-size: 12px;">&#8358; {{purchaseParams.reward ? purchaseParams.amount - purchaseParams.reward : purchaseParams.amount}} </h6>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-card-content>
            </ion-card>  
          </ion-col>
        </ion-row>

        <ion-row style="margin-top: 12px;">
          <ion-col size="12" style="text-align: center">
            <ion-button (click)="openPinPad()" expand="block" shape="round" mode="ios" strong="true" size="default" color="primary" style="font-size: 14px;">Pay &#8358; {{purchaseParams.reward ? purchaseParams.amount - purchaseParams.reward : purchaseParams.amount}}</ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
</ion-content>